<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Eye Disease Prediction</title>
  <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <script src="https://cdn.bootcss.com/popper.js/1.12.9/umd/popper.min.js"></script>
  <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdn.bootcss.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
  <style>
    body {
      background-image: url("https://medriva.com/wp-content/uploads/2023/10/The-Unseen-Impact-of-Modern-Technology-on-Eye-Health-A-Closer-Look.png");
      background-size: cover;
      background-repeat: no-repeat;
      background-attachment: fixed;
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
    }

    .navbar {
      background-color: #000;
      padding: 10px 0;
    }

    .navbar-brand {
      font-size: 24px;
      font-weight: bold;
      color: #fff;
      text-align: center;
      width: 100%;
    }

    .main-heading {
      font-size: 36px;
      font-weight: bold;
      color: #1a1552;
      text-align: center;

      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
    }

    .col-sm-6.bd {
      background-color: rgba(255, 255, 255, 0.8);
      border-radius: 10px;
      padding: 40px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
      margin-top: 40px;
    }
    .text-justify {
       text-align: justify;
       text-justify: distribute;
     }


    .container {
      max-width: 800px;
      margin:  auto;
    }

    .image-section {
      display: none;
      flex-direction: column;
      align-items: center;
    }

    .img-preview {
      width: 300px;
      height: 300px;
      border: 2px dashed #ccc;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 20px;
    }

    .img-preview img {
      max-width: 100%;
      max-height: 100%;
      border-radius: 50%;
      object-fit: cover;
    }

    .prediction-button {
      margin-bottom: 40px;
    }

    .loader {
      display: none;
      margin: 20px auto;
      text-align: center;
    }

    .result {
      margin-top: 40px;
      text-align: center;
    }
  </style>
</head>

<body>
  <nav class="navbar-dark bg-dark">
    <a class="navbar-brand" href="#">Eye Disease Prediction</a>
  </nav>
  <div class="container">
    <div id="content">
      <div class="row">
        <div class="col-sm-6 bd">
          <h3 class="main-heading">Eye Disease Prediction</h3>
          <p class="text-justify">
            Welcome to our cutting-edge Eye Disease Prediction System, driven by state-of-the-art deep learning technology. Our model excels at classifying various eye conditions, utilizing advanced neural networks for comprehensive analysis of medical images. It efficiently extracts crucial features and patterns through convolutional layers, ensuring precise predictions for the presence of eye diseases. Our system represents a breakthrough in medical image analysis, providing an essential tool for early diagnosis and enhanced patient care
          </p>
        </div>
        <div class="col-sm-6 bd">
          <h4 class="text-center">Upload Retina Image</h4>
          <form action="http://localhost:5000/" id="upload-file" method="post" enctype="multipart/form-data">
            <div class="text-center">
              <label for="imageUpload" class="btn btn-primary">
                Click to Upload Image
                <input type="file" name="image" id="imageUpload" accept=".png, .jpg, .jpeg" style="display: none;">
              </label>
            </div>
          </form>
          <div class="image-section">
            <div class="img-preview" id="imagePreview">
              <img src="#" alt="Preview Image">
            </div>
            <div class="text-center prediction-button">
              <button type="button" class="btn btn-success" id="btn-predict" >Predict</button>
            </div>
            <div class="loader" style="display:none;"></div>
            
	    <div id="result" style="display: none;">
  		<h5>Prediction Result:</h5>
  		<p id="predictionResult" style="font-weight: bold; font-size: 24px; color: #1a1552;"></p> 
	    </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    document.getElementById("imageUpload").addEventListener("change", function () {
      var imgPreview = document.getElementById("imagePreview");
      var predictButton = document.getElementById("predictButton");
      var result = document.getElementById("result");

      var file = this.files[0];
      var reader = new FileReader();

      reader.onload = function (e) {
        imgPreview.innerHTML = '<img src="' + e.target.result + '" alt="Preview Image">';
        predictButton.disabled = false;
        result.style.display = "none";
      }

      if (file) {
        reader.readAsDataURL(file);
      } else {
        imgPreview.innerHTML = '<img src="#" alt="Preview Image">';
      }
    });

    document.getElementById("predictButton").addEventListener("click", function () {
      var result = document.getElementById("result");
      var predictionResult = document.getElementById("predictionResult");

      result.style.display = "none";
      predictionResult.innerText = "";

      // Perform and update predictionResult innerText

      // Simulating prediction with a delay of 2 seconds
      setTimeout(function () {
        result.style.display = "block";
        predictionResult.innerText = "Diagnosis: Positive for Eye Disease";
      }, 2000);

    });
  </script>

</body>
<footer>
    <script src="{{ url_for('static', filename='js/main.js') }}" type="text/javascript"></script>
</footer>
</html>
